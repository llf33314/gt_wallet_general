webpackJsonp([6],{"7a7K":function(t,e){},wNzW:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={data:function(){var t=this;return{companyName:"test",total:0,walletBanks:[],walletBanksIndex:"",ruleForm:{money:"",bankId:""},rules:{bankId:[{required:!0,message:"请选择提现银行卡",trigger:"change"}],money:[{required:!0,validator:function(e,a,l){""===a?l(new Error("请输入提现金额")):a<100?l(new Error("提现金额最低100元!")):a>t.withdrawQuota?l(new Error("提现额度为"+t.withdrawQuota+"元")):a>t.total?l(new Error("可用余额"+t.total+"元")):l()},trigger:"blur"}]},loading:!1,withdrawQuota:"0",loading2:!1,ruleForm2:{id:"",verificationCode:""},rules2:{verificationCode:[{required:!0,message:"请输入手机短信验证码",trigger:"change"}]},dialogApply2:!1,dialogApply:!1,loading3:!1,ruleForm3:{wMemberId:"",quotaValue:"",quotaDesc:""},rules3:{quotaValue:[{validator:function(e,a,l){""==a?l(new Error("请输入需求额度")):a<=t.withdrawQuota?l(new Error("最低需求额度为"+t.withdrawQuota)):l()},trigger:"blur"}],quotaDesc:[{required:!0,message:"请输入申请描述",trigger:"blur"}]},legalName:"法人",dialogApply4:!1,ruleForm4:{bankName:"",cardNo:"",isSafeCard:"",memberId:"",phone:"",unionBank:""},rules4:{cardNo:[{validator:function(e,a,l){""==a?l(new Error("请输入法人个人账户")):$.ajax({url:t.DFPAYDOMAIN+"/getBankCardBin",type:"POST",dataType:"JSON",data:{bankCardNo:a},success:function(e){0==e.code?2==e.data.CardBinInfo.iscreditcard?(t.CardBinInfo=null,l(new Error("法人个人账户不能为信用卡"))):(t.CardBinInfo=e.data.CardBinInfo,l()):(t.CardBinInfo=null,l(new Error(e.msg)))}})},trigger:"blur"}],phone:[{required:!0,message:"请输入银行卡预留手机号码",trigger:"blur"},{min:11,max:11,message:"请输入正确银行卡预留手机号码",trigger:"blur"}]},loading4:!1,CardBinInfo:null,bindBankCardDialog:!1,bindBankCardParams:{id:"",verificationCode:""},ruleForm5:{bankName:""},rules5:{verificationCode:[{required:!0,message:"请输入手机验证码",trigger:"blur"}]},loading5:!1,wMemberId:""}},watch:{walletBanksIndex:function(){this.ruleForm.bankId=this.walletBanks[this.walletBanksIndex].id}},mounted:function(){this.findMember()},methods:{dialogApply4Close:function(){this.loading4=!1,this.CardBinInfo=null,this.$refs.ruleForm4.resetFields()},walletQuotaAdd:function(){var t=this;$.ajax({url:this.DFPAYDOMAIN+"/walletQuota/add",type:"POST",dataType:"JSON",data:this.ruleForm3,success:function(e){0==e.code?t.$message({message:e.msg,type:"success",duration:2e3,onClose:function(){t.dialogApply=!1}}):t.$message.error(e.msg),t.loading3=!1}})},submitForm3:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading3=!0,e.walletQuotaAdd()})},confirm:function(){var t=this;$.ajax({url:this.DFPAYDOMAIN+"/walletMoney/confirm",type:"POST",dataType:"JSON",data:this.ruleForm2,success:function(e){0==e.code?t.$message({message:e.msg,type:"success",duration:2e3,onClose:function(){t.findMember(),t.dialogApply2=!1}}):t.$message.error(e.msg),t.loading2=!1}})},submitForm2:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading2=!0,e.confirm()})},findMember:function(){var t=this;$.ajax({url:this.DFPAYDOMAIN+"/walletMember/findMember",type:"GET",dataType:"JSON",success:function(e){0==e.code?(t.ruleForm3.wMemberId=e.data.id,t.ruleForm4.memberId=e.data.id,t.ruleForm4.bankName=e.data.walletCompany.legalName,t.wMemberId=e.data.id,t.withdrawQuota=e.data.withdrawQuota,t.companyName=e.data.walletCompany.companyName,t.legalName=e.data.walletCompany.legalName,t.getTotal(),t.getWalletBanksByMemberId()):t.$message.error(e.msg)}})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.withdrawApply()})},withdrawApply:function(){var t=this;this.dialogApply2=!0,$.ajax({url:this.DFPAYDOMAIN+"/walletMoney/withdrawApply",type:"POST",dataType:"JSON",data:this.ruleForm,success:function(e){0==e.code?t.confirm.id=e.data:t.$message.error(e.msg),t.loading=!1}})},getTotal:function(){var t=this;$.ajax({url:this.DFPAYDOMAIN+"/walletMoney/getTotal",type:"POST",dataType:"JSON",data:{wMemberId:this.wMemberId},success:function(e){0==e.code?t.total=code.data:t.$message.error(e.msg)}})},getWalletBanksByMemberId:function(){var t=this;$.ajax({url:this.DFPAYDOMAIN+"/getWalletBanksByMemberId",type:"GET",dataType:"JSON",data:{wmemberId:this.wMemberId},success:function(e){0==e.code?t.walletBanks=e.data:t.$message.error(e.msg)}})},substring:function(t){return t.substring(t.length-4)},resetForm:function(t){this.$refs[t].resetFields()},submitRuleForm4:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading4=!0,e.ruleForm4.bankName=e.legalName,$.ajax({url:e.DFPAYDOMAIN+"/addBank",type:"POST",data:e.ruleForm4,dataType:"json",success:function(t){0==t.code?(e.bindBankCardDialog=!0,e.bindBankCardParams.id=t.data||0):e.$message.error(t.msg),e.loading4=!1}})})},submitRuleForm5:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading5=!0,$.ajax({url:e.DFPAYDOMAIN+"/bindBankCard",type:"POST",data:e.ruleForm5,dataType:"json",success:function(t){0==t.code?e.$message({message:t.msg,type:"success",duration:2e3,onClose:function(){e.findMember(),e.bindBankCardDialog=!1}}):(e.$message.error(t.msg),e.loading5=!0),e.loading5=!1}})})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"wallet-drawcash"},[a("el-breadcrumb",{staticClass:"public-crumbs",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{onclick:"window.history.go(-1)"}},[t._v("多粉钱包")]),t._v(" "),a("el-breadcrumb-item",[t._v("提现")])],1),t._v(" "),a("div",{staticClass:"public-content"},[a("div",{staticClass:"top-msg"},[a("div",{staticClass:"gray"},[a("div",{staticClass:"public-fl"},[a("div",{staticClass:"row1 public-c333"},[a("span",{staticClass:"title title-i"},[t._v("企业名称：")]),t._v(" "),a("span",{domProps:{textContent:t._s(t.companyName)}},[t._v("撒个")])]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"data-msg"},[a("ul",{staticClass:"public-fl public-c333 list"},[a("li",[a("p",{staticClass:"name"},[t._v("可用余额")]),t._v(" "),a("p",[a("span",{staticClass:"num",domProps:{textContent:t._s(t.total)}}),t._v("元")])])])])]),t._v(" "),a("div",{staticClass:"public-table-title public-c666",staticStyle:{"font-weight":"500",margin:"40px 0"}},[t._v("\n      进行提现\n    ")]),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"115px"}},[a("el-form-item",{attrs:{label:"提现银行卡：",prop:"bankId"}},[a("div",[a("el-radio-group",{staticStyle:{display:"block"},model:{value:t.walletBanksIndex,callback:function(e){t.walletBanksIndex=e},expression:"walletBanksIndex"}},t._l(t.walletBanks,function(e,l){return a("ul",{staticStyle:{border:"1px solid #dfe6ec",padding:"15px 30px 0","margin-bottom":"20px"}},[a("li",{staticClass:"card-item"},[a("p",[a("span",[a("el-radio",{attrs:{label:l}},[t._v(" ")])],1),t._v(" "),a("img",{attrs:{src:e.iconUrl,alt:"logo"}}),t._v(" "),a("span",{staticClass:"font-size name",domProps:{textContent:t._s(e.bankName)}},[t._v("建设银行")])]),t._v(" "),a("p",{staticClass:"font-size"},[t._v("尾号\n                  "),a("span",{domProps:{textContent:t._s(t.substring(e.cardNo))}}),t._v(" "),a("span",{staticClass:"card-type-tips",domProps:{textContent:t._s(1==e.cardClass?"个人银行卡":"对公账号")}},[t._v("银行卡")])]),t._v(" "),a("p",{staticClass:"font-size"},[t._v("1-3个工作日到账")])])])}))],1),t._v(" "),1==t.walletBanks.length&&1!=t.walletBanks[0].cardClass?a("p",{staticStyle:{color:"#409EFF",cursor:"pointer",display:"inline-block"},on:{click:function(e){t.dialogApply4=!0}}},[t._v("添加个人账户")]):t._e(),t._v(" "),a("p",{staticClass:"public-c999"},[a("span",[t._v("此账户提现额度为\n            "),a("span",{staticStyle:{color:"#ff4949"},domProps:{textContent:t._s(t.withdrawQuota)}},[t._v("100,000")]),t._v("元，如需提高提现金额，请点击")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.dialogApply=!0}}},[t._v("申请")])],1)]),t._v(" "),a("el-form-item",{attrs:{label:"提现金额：",prop:"money"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{type:"number",placeholder:"请输入提现金额"},model:{value:t.ruleForm.money,callback:function(e){t.$set(t.ruleForm,"money",e)},expression:"ruleForm.money"}}),t._v(" "),a("p",{staticClass:"public-c999"},[t._v("\n          提现金额最低100元，提现手续费2元/笔\n        ")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("提现")]),t._v(" "),a("el-button",{attrs:{onclick:"window.history.go(-1)"}},[t._v("返回")])],1)],1),t._v(" "),t._m(1)],1),t._v(" "),a("el-dialog",{attrs:{title:"提现短信验证",visible:t.dialogApply2,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"custom-class":"wallet-drawcash-dialog"},on:{"update:visible":function(e){t.dialogApply2=e},close:function(e){t.loading2=!1}}},[a("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm2,rules:t.rules2,"label-width":"155px"}},[a("el-form-item",{attrs:{label:"短信验证码：",prop:"verificationCode"}},[a("el-input",{attrs:{placeholder:"请输入手机短信验证码"},model:{value:t.ruleForm2.verificationCode,callback:function(e){t.$set(t.ruleForm2,"verificationCode",e)},expression:"ruleForm2.verificationCode"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary",loading:t.loading2},on:{click:function(e){t.submitForm2("ruleForm2")}}},[t._v("确认")])],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"申请提额",visible:t.dialogApply,"custom-class":"wallet-drawcash-dialog"},on:{"update:visible":function(e){t.dialogApply=e},close:function(e){t.loading3=!1}}},[a("el-form",{ref:"ruleForm3",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm3,rules:t.rules3,"label-width":"155px"}},[a("el-form-item",{attrs:{label:"银行卡额度："}},[a("span",{staticStyle:{color:"#ff4949"},domProps:{textContent:t._s(t.withdrawQuota)}},[t._v("100,000")]),t._v("元\n      ")]),t._v(" "),a("el-form-item",{attrs:{label:"需求额度：",prop:"quotaValue"}},[a("el-input",{staticClass:"RMBinput",staticStyle:{width:"150px"},attrs:{placeholder:"请输入金额"},model:{value:t.ruleForm3.quotaValue,callback:function(e){t.$set(t.ruleForm3,"quotaValue",e)},expression:"ruleForm3.quotaValue"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"提额原因：",prop:"quotaDesc"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{type:"textarea",placeholder:"请输入原因"},model:{value:t.ruleForm3.quotaDesc,callback:function(e){t.$set(t.ruleForm3,"quotaDesc",e)},expression:"ruleForm3.quotaDesc"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary",loading:t.loading3},on:{click:function(e){t.submitForm3("ruleForm3")}}},[t._v("申请")]),t._v(" "),a("el-button",{on:{click:function(e){t.dialogApply=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"添加个人账户",visible:t.dialogApply4,"custom-class":"wallet-drawcash-dialog"},on:{"update:visible":function(e){t.dialogApply4=e},close:t.dialogApply4Close}},[a("el-form",{ref:"ruleForm4",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm4,rules:t.rules4,"label-width":"125px"}},[a("el-form-item",{attrs:{label:"法人姓名："}},[a("span",{domProps:{textContent:t._s(t.legalName)}},[t._v("法人姓名")])]),t._v(" "),a("el-form-item",{attrs:{label:"法人账户：",prop:"cardNo"}},[a("el-input",{attrs:{placeholder:"请输入法人个人账户"},model:{value:t.ruleForm4.cardNo,callback:function(e){t.$set(t.ruleForm4,"cardNo",e)},expression:"ruleForm4.cardNo"}})],1),t._v(" "),t.CardBinInfo?a("el-form-item",[a("p",{staticStyle:{"line-height":"30px"}},[a("span",{staticClass:"cardmsg"},[t._v("发卡银行：")]),t._v(" "),a("span",{domProps:{textContent:t._s(t.CardBinInfo.bankname)}})]),t._v(" "),a("p",{staticStyle:{"line-height":"30px"}},[a("span",{staticClass:"cardmsg"},[t._v("银行卡名称：")]),t._v(" "),a("span",{domProps:{textContent:t._s(t.CardBinInfo.cardname)}})]),t._v(" "),a("p",{staticStyle:{"line-height":"30px"}},[a("span",{staticClass:"cardmsg"},[t._v("银行卡类型：")]),t._v(" "),a("span",{domProps:{textContent:t._s(t.CardBinInfo.cardtype)}})])]):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"手机号码：",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入银行卡预留手机号码"},model:{value:t.ruleForm4.phone,callback:function(e){t.$set(t.ruleForm4,"phone",e)},expression:"ruleForm4.phone"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary",loading:t.loading4},on:{click:function(e){t.submitRuleForm4("ruleForm4")}}},[t._v("确认")]),t._v(" "),a("el-button",{on:{click:function(e){t.dialogApply4=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"确认绑定银行卡","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,visible:t.bindBankCardDialog,"custom-class":"wallet-drawcash-dialog"},on:{close:function(e){t.loading5=!1},"update:visible":function(e){t.bindBankCardDialog=e}}},[a("el-form",{ref:"ruleForm5",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm5,rules:t.rules5,"label-width":"125px"}},[a("el-form-item",{attrs:{label:"短信验证：",prop:"verificationCode"}},[a("el-input",{staticStyle:{width:"318px"},attrs:{placeholder:"请输入手机验证码"},model:{value:t.ruleForm5.verificationCode,callback:function(e){t.$set(t.ruleForm5,"verificationCode",e)},expression:"ruleForm5.verificationCode"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary",loading:t.loading5},on:{click:function(e){t.submitRuleForm5("ruleForm5")}}},[t._v("确认")])],1)],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row1 public-c333"},[e("span",{staticClass:"title title-i"},[this._v("认证类型：")]),this._v(" "),e("span",[this._v("企业认证")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"public-c333 bottom-dps"},[e("p",[this._v("提现手续费怎么收取？")]),this._v(" "),e("p",[this._v("答：每次提现算做一笔，提现手续费按每笔2元收取。")]),this._v(" "),e("p",[this._v("提现限额为多少？")]),this._v(" "),e("p",[this._v("答：单笔最低100元，最高50000元，单日无限制。")]),this._v(" "),e("p",[this._v("提现到账时间？")]),this._v(" "),e("p",[this._v("答：1-3个工作日。")])])}]},o=a("UF+H")(l,r,!1,function(t){a("7a7K")},null,null);e.default=o.exports}});